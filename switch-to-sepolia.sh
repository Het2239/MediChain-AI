#!/bin/bash
ENV_FILE="/media/het/New Volume/Projects/MediChain/.env"

# Update RPC to Sepolia
sed -i 's|SEPOLIA_RPC_URL=.*|SEPOLIA_RPC_URL=https://rpc.sepolia.org|' "$ENV_FILE"

# Update contract addresses to original Sepolia deployment
sed -i 's|PATIENT_REGISTRY_ADDRESS=.*|PATIENT_REGISTRY_ADDRESS=0x52f1c40755a47915A93B131405a2C95eA904A6Db|' "$ENV_FILE"
sed -i 's|DOCTOR_REGISTRY_ADDRESS=.*|DOCTOR_REGISTRY_ADDRESS=0xBEdf65e08498639B7b0000fCA892f28fa3d15021|' "$ENV_FILE"
sed -i 's|ACCESS_CONTROL_ADDRESS=.*|ACCESS_CONTROL_ADDRESS=0x10b5cC443a0172fcc390Ef7831c79B063dbe3CCD|' "$ENV_FILE"

# Update frontend addresses
sed -i 's|VITE_PATIENT_REGISTRY_ADDRESS=.*|VITE_PATIENT_REGISTRY_ADDRESS=0x52f1c40755a47915A93B131405a2C95eA904A6Db|' "$ENV_FILE"
sed -i 's|VITE_DOCTOR_REGISTRY_ADDRESS=.*|VITE_DOCTOR_REGISTRY_ADDRESS=0xBEdf65e08498639B7b0000fCA892f28fa3d15021|' "$ENV_FILE"
sed -i 's|VITE_ACCESS_CONTROL_ADDRESS=.*|VITE_ACCESS_CONTROL_ADDRESS=0x10b5cC443a0172fcc390Ef7831c79B063dbe3CCD|' "$ENV_FILE"

# Update chain ID for Sepolia
sed -i 's|VITE_CHAIN_ID=.*|VITE_CHAIN_ID=11155111|' "$ENV_FILE"

echo "âœ“ Switched to Sepolia testnet configuration"
